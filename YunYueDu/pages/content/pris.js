document.addEventListener("DOMContentLoaded",function(){updateAndroidOrientation();if(window.pris.fullScreenWebview!=null&&window.pris.fullScreenWebview=="1"){var a=document.querySelector("head"),b=document.createElement("style");b.appendChild(document.createTextNode("body{padding-top:40px!important;} .m-mb{padding-bottom:80px!important;}"));a.appendChild(b)}},!1);function $$(a){return document.getElementById(a)}if(pris==null)var pris={};
pris.CTL={LANDSCAPE:1,PORTRAIT:0,LAYOUT_PHOTO:"photo",LAYOUT_NEWS:"news",LAYOUT_SINGLE_PHOTO:"photo-single",LAYOUT_TWITTER:"twitter",LAYOUT_FORUM:"forum",LAYOUT_VIDEO:"video",LAYOUT_MARKET:"market"};pris.DEVICE={iPhone:"iphone",iPad:"ipad",iPod:"ipod",android:"android",androidPad:"androidpad",winPhone:"winphone",windows:"windows",iPhoneVersion:10002,iPadVersion:10400,iPodVersion:10002,androidVersion:10008,iPhoneVersion_Font:10100,iPadVersion_Font:10500,iPodVersion_Font:10100,androidVersion_Font:10100};
pris.DEFAULT_NEWS_STYLE=[{"fs-title":{"font-size":36},"fs-info":{"font-size":13},"fs-quote":{"font-size":17},"fs-content":{"font-size":17}},{"fs-title":{"font-size":38},"fs-info":{"font-size":14},"fs-quote":{"font-size":19},"fs-content":{"font-size":19}},{"fs-title":{"font-size":40},"fs-info":{"font-size":15},"fs-quote":{"font-size":20},"fs-content":{"font-size":20}},{"fs-title":{"font-size":42},"fs-info":{"font-size":16},"fs-quote":{"font-size":22},"fs-content":{"font-size":22}}];
pris.DEFAULT_TWITTER_STYLE=[{"fs-author":{"font-size":16},"fs-info":{"font-size":14},"fs-content":{"font-size":17},"fs-ori-content":{"font-size":20},"fs-ori-author":{"font-size":14},"fs-tc":{"font-size":23}},{"fs-author":{"font-size":16},"fs-info":{"font-size":14},"fs-content":{"font-size":19},"fs-ori-content":{"font-size":21},"fs-ori-author":{"font-size":14},"fs-tc":{"font-size":24}},{"fs-author":{"font-size":16},"fs-info":{"font-size":14},"fs-content":{"font-size":20},"fs-ori-content":{"font-size":22},
"fs-ori-author":{"font-size":14},"fs-tc":{"font-size":25}},{"fs-author":{"font-size":16},"fs-info":{"font-size":14},"fs-content":{"font-size":22},"fs-ori-content":{"font-size":23},"fs-ori-author":{"font-size":14},"fs-tc":{"font-size":26}}];
pris.DEFAULT_FORUM_STYLE=[{"fs-title":{"font-size":36},"fs-info":{"font-size":12},"fs-author":{"font-size":14},"fs-content":{"font-size":17}},{"fs-title":{"font-size":38},"fs-info":{"font-size":12},"fs-author":{"font-size":14},"fs-content":{"font-size":19}},{"fs-title":{"font-size":40},"fs-info":{"font-size":12},"fs-author":{"font-size":14},"fs-content":{"font-size":20}},{"fs-title":{"font-size":42},"fs-info":{"font-size":12},"fs-author":{"font-size":14},"fs-content":{"font-size":22}}];
pris.DEFAULT_VIDEO_STYLE=[{"fs-title":{"font-size":36},"fs-info":{"font-size":13},"fs-cn":{"font-size":17},"fs-quote":{"font-size":13},"fs-content":{"font-size":17},"fs-ct":{"font-size":18},"intro-item":{"font-size":17},"intro-content":{"font-size":17}},{"fs-title":{"font-size":38},"fs-info":{"font-size":14},"fs-cn":{"font-size":18},"fs-quote":{"font-size":14},"fs-content":{"font-size":19},"fs-ct":{"font-size":19},"intro-item":{"font-size":19},"intro-content":{"font-size":19}},{"fs-title":{"font-size":40},
"fs-info":{"font-size":15},"fs-cn":{"font-size":19},"fs-quote":{"font-size":15},"fs-content":{"font-size":20},"fs-ct":{"font-size":20},"intro-item":{"font-size":20},"intro-content":{"font-size":20}},{"fs-title":{"font-size":42},"fs-info":{"font-size":16},"fs-cn":{"font-size":20},"fs-quote":{"font-size":16},"fs-content":{"font-size":22},"fs-ct":{"font-size":24},"intro-item":{"font-size":22},"intro-content":{"font-size":22}}];
pris.NEWS_STYLE=[{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-quote":{"font-size":15,"line-height":21},"fs-content":{"font-size":15}},{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-quote":{"font-size":18,"line-height":24},"fs-content":{"font-size":18}},{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-quote":{"font-size":20,"line-height":26},"fs-content":{"font-size":20}},{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-quote":{"font-size":22,"line-height":28},
"fs-content":{"font-size":22}}];
pris.TWITTER_STYLE=[{"fs-author":{"font-size":15},"fs-info":{"font-size":12},"fs-content":{"font-size":15},"fs-ori-content":{"font-size":15,"line-height":21},"fs-ori-author":{"font-size":14},"fs-tc":{"font-size":18,"line-height":28}},{"fs-author":{"font-size":15},"fs-info":{"font-size":12},"fs-content":{"font-size":18},"fs-ori-content":{"font-size":18,"line-height":24},"fs-ori-author":{"font-size":14},"fs-tc":{"font-size":20,"line-height":30}},{"fs-author":{"font-size":15},"fs-info":{"font-size":12},
"fs-content":{"font-size":20},"fs-ori-content":{"font-size":20,"line-height":26},"fs-ori-author":{"font-size":14},"fs-tc":{"font-size":22,"line-height":32}},{"fs-author":{"font-size":15},"fs-info":{"font-size":12},"fs-content":{"font-size":22},"fs-ori-content":{"font-size":22,"line-height":28},"fs-ori-author":{"font-size":14},"fs-tc":{"font-size":24,"line-height":34}}];
pris.FORUM_STYLE=[{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-author":{"font-size":14},"fs-content":{"font-size":15,"line-height":21}},{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-author":{"font-size":14},"fs-content":{"font-size":18,"line-height":24}},{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-author":{"font-size":14},"fs-content":{"font-size":20,"line-height":26}},{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-author":{"font-size":14},
"fs-content":{"font-size":22,"line-height":28}}];
pris.VIDEO_STYLE=[{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-cn":{"font-size":18},"fs-quote":{"font-size":14,"line-height":21},"fs-content":{"font-size":15,"line-height":22.5},"fs-ct":{"font-size":17},"intro-item":{"font-size":14,"line-height":21},"intro-content":{"font-size":15,"line-height":22.5}},{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-cn":{"font-size":19},"fs-quote":{"font-size":15,"line-height":22.5},"fs-content":{"font-size":16,"line-height":24},"fs-ct":{"font-size":18},
"intro-item":{"font-size":15,"line-height":22.5},"intro-content":{"font-size":16,"line-height":24}},{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-cn":{"font-size":20},"fs-quote":{"font-size":16,"line-height":24},"fs-content":{"font-size":17,"line-height":25.5},"fs-ct":{"font-size":19},"intro-item":{"font-size":16,"line-height":24},"intro-content":{"font-size":17,"line-height":25.5}},{"fs-title":{"font-size":23},"fs-info":{"font-size":12},"fs-cn":{"font-size":21},"fs-quote":{"font-size":17,
"line-height":25.5},"fs-content":{"font-size":18,"line-height":27},"fs-ct":{"font-size":20},"intro-item":{"font-size":17,"line-height":25.5},"intro-content":{"font-size":18,"line-height":27}}];pris.FONT_FAMILY={stsong:'.fs-content, .fs-tc, .fs-ori-content {font-family:"STSong",serif;}',heiti:'.fs-content, .fs-tc, .fs-ori-content {font-family:"\ufffd\ufffd\ufffd\ufffd",serif;}'};
pris.makeFontFace=function(a,b){var c="";b!=null&&b!=""&&(c+='@font-face{font-family: "'+a+'";src: url('+b+");font-style: normal;font-weight: normal;}");c+='.fs-content, .fs-tc, .fs-quote, .fs-ori-content {font-family:"'+a+'";}';return c};pris.updateOrientation=function(a){try{switch(a){case pris.CTL.LANDSCAPE:doLandscape();break;default:doPortrait()}}catch(b){}};function headInit(a){a!=null&&pris.updateFontLevel(window.pris.fontLevel)}
function bodyStartInit(a){a!=null&&pris.updateFontFamily(window.pris.font_family)}
var loadInit=function(a){pris.args=a;a!=null&&(a.layout==pris.CTL.LAYOUT_PHOTO||a.layout==pris.CTL.LAYOUT_NEWS?a.pageLayout==1?pagedPhotoInit():a.layout==pris.CTL.LAYOUT_PHOTO&&photoInit():a.layout==pris.CTL.LAYOUT_TWITTER?changeShortLink():a.layout==pris.CTL.LAYOUT_MARKET&&(delDownloadLink(),fixImagesSize()))},delDownloadLink=function(){var a=document.body.querySelector(".download");if(a){var b=a.querySelector("a");b&&/apk/i.test(b.href)&&a.parentNode.removeChild(a)}};
function updateAndroidOrientation(){if(window.pris!=null&&args!=null){var a=window.pris.device,b=window.pris.width;if(a!=null&&a.toLowerCase()==pris.DEVICE.androidPad&&b<700)a=document.getElementsByTagName("head")[0],b=document.createElement("style"),b.type="text/css",b.appendChild(document.createTextNode(".m-mb-2 img,.m-mb-4 img{max-width:400px !important;} .m-mb-1 img,.m-mb-3 img{max-width:700px !important;}.m-mb-1{width:760px !important;} .m-mb-2,.m-mb-4{width:540px !important;} .m-mb-3{width:820px !important;}.app-info .desc{width:390px !important;} .m-mb-2 .app ul.imgs li{width:260px !important;height:260px !important;}.img-icon{background:none !important;} .img-self{text-align:center !important;}")),
a.appendChild(b),args.layout==pris.CTL.LAYOUT_PHOTO?fixAndroidPadPhoto():args.layout==pris.CTL.LAYOUT_NEWS&&fixAndroidPadNewsImgs()}}
var changeShortLink=function(){if(window.pris==null)pris.removeHref();else{var a=window.pris.device,b=window.pris.version;a==null||b==null?pris.removeHref():(a=a.toLowerCase(),b=getVersion(b),a==pris.DEVICE.iPhone?b<pris.DEVICE.iPhoneVersion&&pris.removeHref():a==pris.DEVICE.iPad?b<pris.DEVICE.iPadVersion&&pris.removeHref():a==pris.DEVICE.iPod?b<pris.DEVICE.iPodVersion&&pris.removeHref():pris.DEVICE.android&&b<pris.DEVICE.androidVersion&&pris.removeHref())}};
pris.updateFontLevel=function(a){if(window.pris!=null){var b=window.pris.device,c=window.pris.version;if(!(b==null||c==null)&&a!=null){b=b.toLowerCase();c=getVersion(c);if(b==pris.DEVICE.iPhone){if(c<pris.DEVICE.iPhoneVersion_Font)return}else if(b==pris.DEVICE.iPad){if(c<pris.DEVICE.iPadVersion_Font)return}else if(b==pris.DEVICE.iPod){if(c<pris.DEVICE.iPodVersion_Font)return}else if(b==pris.DEVICE.android&&c<pris.DEVICE.androidVersion_Font)return;a=a<3?0:a<5?1:a==5?2:3;a=window.pris.density==null?
generateDefaultStyle(a):generateStyle(a);b=document.getElementsByTagName("head");c=document.getElementById("fs-style");c!=null&&b[0].removeChild(c);c=document.createElement("style");c.setAttribute("type","text/css");c.setAttribute("id","fs-style");c.appendChild(document.createTextNode(a));b[0].appendChild(c)}}};
function generateDefaultStyle(a){var b=pris.DEFAULT_NEWS_STYLE;if(args.layout==pris.CTL.LAYOUT_TWITTER)b=pris.DEFAULT_TWITTER_STYLE;else if(args.layout==pris.CTL.LAYOUT_FORUM)b=pris.DEFAULT_FORUM_STYLE;else if(args.layout==pris.CTL.LAYOUT_VIDEO)b=pris.DEFAULT_VIDEO_STYLE;return generateCSS(b[a],1)}
function generateStyle(a){var b=pris.NEWS_STYLE;if(args.layout==pris.CTL.LAYOUT_TWITTER)b=pris.TWITTER_STYLE;else if(args.layout==pris.CTL.LAYOUT_FORUM)b=pris.FORUM_STYLE;else if(args.layout==pris.CTL.LAYOUT_VIDEO)b=pris.VIDEO_STYLE;return generateCSS(b[a],window.pris.density)}function generateCSS(a,b){var c="",d;for(d in a){var c=c+"."+d+"{",f=a[d],g;for(g in f)c=c+g+":"+f[g]*b+"px!important;";c+="}"}return c}
pris.updateFontFamily=function(a){if(!(window.pris==null||a==null||a.name==null)){var a=pris.makeFontFace(a.name,a.path),b=document.getElementsByTagName("head"),c=document.createElement("style");c.setAttribute("type","text/css");c.appendChild(document.createTextNode(a));b[0].appendChild(c)}};
var getVersion=function(a){for(var b="",a=a.split("."),c=0;c<a.length;c++){var d=a[c];c!=0&&d<=9&&d.length<2&&(d="0"+d);b+=d}return b},doLandscape=function(){var a=$$("pris-container");a!=null&&(pris.args!=null&&(pris.args.layout==pris.CTL.LAYOUT_PHOTO||pris.args.layout==pris.CTL.LAYOUT_SINGLE_PHOTO)?a.setAttribute("class","m-mb m-mb-3"):a.setAttribute("class","m-mb m-mb-1"))},doPortrait=function(){var a=$$("pris-container");a!=null&&(pris.args!=null&&(pris.args.layout==pris.CTL.LAYOUT_PHOTO||pris.args.layout==
pris.CTL.LAYOUT_SINGLE_PHOTO)?a.setAttribute("class","m-mb m-mb-4"):a.setAttribute("class","m-mb m-mb-2"))},photoInit=function(){var a=document.getElementsByClassName("img-c"),b=document.createElement("div");b.className="sdb";(function(){for(var c=0;c<a.length;c++)a[c].addEventListener("mousedown",function(a){var c=a.target.parentNode.parentNode;window.location=a.target.parentNode.href;c.appendChild(b);remove=setTimeout(function(){c.removeChild(b)},300)},!1)})()},pagedPhotoInit=function(){var a=document.getElementsByTagName("img"),
b=document.createElement("div");b.className="sdb";(function(){for(var c=0;c<a.length;c++)a[c].parentNode.tagName=="a"&&a[c].parentNode.parentNode.addEventListener("mousedown",function(a){var c=a.target.parentNode.parentNode;window.location=a.target.parentNode.href;c.setAttribute("style","position:relative");c.appendChild(b);remove=setTimeout(function(){c.removeChild(b);c.setAttribute("style","")},300)},!1)})()},calMiddleHeight=function(){var a=document.getElementsByClassName("m-wrap");if(!(a==null||
a.length==0))if(a=a[0],a!=null)a.style.minHeight=document.body.clientHeight-24+"px"},middlePhotoInit=function(){calMiddleHeight();window.addEventListener("resize",function(){calMiddleHeight()},!1)},calSmallHeight=function(){var a=document.getElementsByClassName("m-wrap");if(!(a==null||a.length==0))if(a=a[0],a!=null)a.style.minHeight=document.body.clientHeight-20+"px"},smallPhotoInit=function(){calSmallHeight();window.addEventListener("resize",function(){calSmallHeight()},!1)};
function createPlayer(a,b,c){var a=document.getElementById(a),d="";navigator.userAgent.match(/Android/ig)||navigator.userAgent.match(/msie/ig)?(doPortrait(),a.getElementsByTagName("a")[0].style.display="block"):(d=/\((iPhone|iPad|iPod)/ig.test(navigator.userAgent)?"<video class='video' src='"+b+"' autobuffer='true' autoplay='1' controls='1' onclick='this.play()' id='space' tabindex='1'>Your browser does not support the video tag.</video>":'<object type="application/x-shockwave-flash"  classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" class="video" id="FPlayer" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="movie" value="'+
c+'" /><param name="quality" value="high" /><embed src="'+c+'" id="FPlayer" quality="high" class="video" name="FPlayer" align="middle" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" /></object>',a.innerHTML=d)}pris.removeHref=function(){var a=document.getElementsByName("weiboLink");if(a!=null)for(var b=0;b<a.length;b++)a[b].removeAttribute("href")};
function fixImagesSize(){var a=document.querySelector(".app ul.imgs").children;if(a.length!=0)for(var b=a[0],c=parseInt(window.getComputedStyle(b).width),b=parseInt(window.getComputedStyle(b).height),d=c/b,f=0,g=a.length;f<g;f++){var i=a[f].querySelector("img"),h=i.getAttribute("size");if(h){var e=h.split("*")[0],h=h.split("*")[1];e/=h;e<=d?(e=Math.round(c/e),i.setAttribute("style","width:"+c+"px;height:"+e+"px;margin-top:-"+Math.round((e-b)/2)+"px;")):(e=Math.round(b*e),i.setAttribute("style","width:"+
e+"px;height:"+b+"px;margin-left:-"+Math.round((e-c)/2)+"px;"))}}}function fixAndroidPadPhoto(){var a=document.querySelectorAll(".fs-content .img-c");if(a)for(var b=0,c=a.length;b<c;b++){var d=a[b];d.style.width="250px";d.style.height="200px"}}
function fixAndroidPadNewsImgs(){var a=document.querySelectorAll(".fs-content .img-c"),b=document.querySelector(".fs-content"),c=parseInt(window.getComputedStyle(b,null).width);if(a&&b&&c==540)for(var b=0,d=a.length;b<d;b++){var f=a[b];if(parseInt(f.style.width)>c)f.style.width=c+"px"}};
